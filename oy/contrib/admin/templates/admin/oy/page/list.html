{% extends 'admin/model/list.html' %}
{% import 'admin/lib.html' as lib with context %}

{% block tail %}
  {{ super() }}
  <div class="modal fade" id="child-type-modal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 style="color:red;"><span class="fa fa-check"></span> {{ gettext("Select page type") }}</h4>
          </div>
          <form action="{{ url_for(".create_redirector") }}" method="POST" role="form">
          <div class="modal-body">
            {{ lib.render_form_fields(admin_view.get_child_page_type_form()) }}
          </div>
          <div class="modal-footer">
          <button type="submit" class="btn btn-info">{{ gettext("Create") }}</button>
          <button type="submit" class="btn btn-default btn-default pull-right" data-dismiss="modal">Cancel</button>
          </div>
          </form>
        </div>
      </div>
    </div>

  <script type="text/javascript">
    $(function() {
      $(".add-child-btn").click(function(e) {
        var pk = $(this).data("parent-pk");
        $("#parent_pk").val(pk);
        $("#child-type-modal").modal('show');
      });
    });
  </script>
{% endblock %}
